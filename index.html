<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ALG Psikoteknik</title>
    <base href="/algpsiko-frontend/" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="css/algpsikoteknik.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>

<body>

    <!-- ========================= -->
    <!--    KURUMSAL LOADING       -->
    <!-- ========================= -->
    <div id="loading-screen">
        <div class="loader-center">
            <img src="images/alg-logo.png" class="loader-logo" />
            <div class="loader-ring"></div>
        </div>
    </div>

    <!-- Blazor App -->
    <div id="app"></div>

    <!-- Blazor Error -->
    <div id="blazor-error-ui">
        Bir hata oluÅŸtu.
        <a href="." class="reload">Yeniden YÃ¼kle</a>
        <span class="dismiss">ðŸ—™</span>
    </div>

    <!-- Mobil MenÃ¼ Kontrolleri -->
    <script>
        function toggleMenu() {
            const menu = document.getElementById("navMenu");
            if (menu) menu.classList.toggle("open");
        }

        // tÄ±klayÄ±nca kapan
        document.addEventListener("click", function (e) {
            if (e.target.closest(".main-nav a")) {
                const menu = document.getElementById("navMenu");
                if (menu && menu.classList.contains("open")) {
                    menu.classList.remove("open");
                }
            }
        });
    </script>

    <!-- Blazor iÃ§in loader kapatma -->
    <script>
        window.hideLoading = function () {
            const screen = document.getElementById("loading-screen");
            if (!screen) return;

            screen.classList.add("loaded");
            setTimeout(() => {
                screen.style.display = "none";
            }, 600);
        }
    </script>

    <!-- Blazor -->
    <script src="_framework/blazor.webassembly.js" autostart="false"></script>
    <script>
        Blazor.start().then(() => {
            window.hideLoading();
        });
    </script>
<!-- ============================ -->
<!--   GLOBAL JS (TEK MERKEZ)    -->
<!-- ============================ -->
<script>

    /* -------------------------
       HEADER SCROLL EFFECT
    -------------------------- */
    window.addEventListener("scroll", () => {
        const header = document.querySelector(".header");
        if (!header) return;

        if (window.scrollY > 50)
            header.classList.add("scrolled");
        else
            header.classList.remove("scrolled");
    });


    /* -------------------------
       PDF MODAL (ABOUT PAGE)
    -------------------------- */
    window.initPdfModal = function () {

        document.querySelectorAll(".open-pdf").forEach(icon => {
            icon.addEventListener("click", function () {
                const pdfUrl = this.getAttribute("data-pdf");

                const frame = document.getElementById("pdfFrame");
                const modal = document.getElementById("pdfModal");

                frame.src = pdfUrl;
                modal.classList.add("open");
            });
        });

        const closeBtn = document.querySelector(".pdf-close");
        if (closeBtn) {
            closeBtn.addEventListener("click", () => {
                document.getElementById("pdfModal").classList.remove("open");
                document.getElementById("pdfFrame").src = "";
            });
        }

        const modal = document.getElementById("pdfModal");
        if (modal) {
            modal.addEventListener("click", (e) => {
                if (e.target.id === "pdfModal") {
                    modal.classList.remove("open");
                    document.getElementById("pdfFrame").src = "";
                }
            });
        }
    };


    /* -------------------------
       HÄ°ZMET KUTULARI ANÄ°MASYONU
    -------------------------- */
    window.initServiceBoxes = function () {
        document.querySelectorAll('.service-box').forEach((box, i) => {
            setTimeout(() => box.classList.add('visible'), 150 * i);
        });
    };

</script>

</body>
</html>
